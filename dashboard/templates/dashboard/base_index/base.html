{%load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>    
    {{organization_info.site_title}} |
    {% block title%}

    {%endblock%}
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Prachubrt ecommerce dashboard">
    <meta name="keywords" content="Prachubrt">
    <meta name="author" content="Prachubrt">

    <link rel="shortcut icon" href="">

    <!-- App favicon -->

    <link rel="stylesheet" href="{% static 'dashboard/cdn.jsdelivr.net/npm/swiper%4011/swiper-bundle.min.css'%}" />

    <link rel="shortcut icon" href="{{organization_info.favicon.url}}" style="height: 100px; border-radius: 40px;">
    <!-- App css -->
<link href="{% static 'dashboard/build/css/bootstrap.min.css'%}" id="bootstrap-style" rel="stylesheet" type="text/css" />
<link href="{% static 'dashboard/build/css/icons.min.css'%}" rel="stylesheet" type="text/css" />
<link href="{% static 'dashboard/build/css/app.min.css'%}" id="app-style" rel="stylesheet" type="text/css" />
<link href="{% static 'dashboard/build/libs/toastr/build/toastr.min.css'%}" rel="stylesheet" type="text/css">
</head>

<body data-sidebar="dark" data-topbar="light" data-layout="vertical">

<!-- Loader -->
<div id="preloader">
    <div id="status">
        <div class="spinner-chase">
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
            <div class="chase-dot"></div>
        </div>
    </div>
</div>
<!-- Begin page -->

<div id="layout-wrapper">
    <header id="page-topbar">
    <div class="navbar-header">
        <div class="d-flex">
            <!-- LOGO -->
            <div class="navbar-brand-box" >
                
                <a href="{% url 'dashboard:index' %}" class="logo logo-light">
                    <span class="logo-lg" >
                        <img src="{{organization_info.logo.url}}" class="img-fluid" style="height: 60px; " alt="" >
                    </span>
                    <span class="logo-sm">
                        <img src="{{organization_info.logo.url}}" class="img-fluid"  style="height: 60px;"  alt="" height="19">
                    </span>
                </a>
            </div>
            <button type="button" class="btn btn-sm px-3 font-size-16 d-lg-none header-item waves-effect waves-light"
                data-bs-toggle="collapse" data-bs-target="#topnav-menu-content" id="toggle-button">
                <i class="fa fa-fw fa-bars"></i>
            </button>
        </div>
        <div class="d-flex">
            <div class="dropdown d-inline-block d-lg-none ms-2">
                <button type="button" class="btn header-item noti-icon waves-effect" id="page-header-search-dropdown"
                    data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="mdi mdi-magnify"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"
                    aria-labelledby="page-header-search-dropdown">
                    <form class="p-3">
                        <div class="mb-3 m-0">
                            <div class="input-group">
                                <input type="text" class="form-control" placeholder="Search ..."
                                    aria-label="Search input">
                                <div class="input-group-append">
                                    <button class="btn btn-primary" type="submit"><i
                                            class="mdi mdi-magnify"></i></button>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        
            <div class="dropdown d-none d-lg-inline-block ms-1">
                <button type="button" class="btn header-item noti-icon waves-effect" data-bs-toggle="fullscreen">
                    <i class="bx bx-fullscreen"></i>
                </button>
            </div>
            <div class="dropdown d-inline-block">
                <button type="button" class="btn header-item noti-icon waves-effect"
                    id="page-header-notifications-dropdown" data-bs-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                    <i class="bx bx-bell bx-tada"></i>
                    <span class="badge bg-danger rounded-pill">10</span>
                </button>
                <div class="dropdown-menu dropdown-menu-lg dropdown-menu-end p-0"
                    aria-labelledby="page-header-notifications-dropdown">
                    <div class="p-3">
                        <div class="row align-items-center">
                            <div class="col">
                                <h6 class="m-0"> Notifications</h6>
                            </div>
                            <div class="col-auto">
                                <a href="" class="small"> View All</a>
                            </div>
                        </div>
                    </div>
                    <div data-simplebar class="notification-list-scroll overflow-auto" style="max-height: 230px;">
                                    
                                            </div>
                    <div class="p-2 border-top d-grid">
                        <a class="btn btn-sm btn-link font-size-14 w-100 text-center"
                            href="">
                            <i class="mdi mdi-arrow-right-circle me-1"></i> View More..
                        </a>
                    </div>
                </div>
            </div>
            <div class="dropdown d-inline-block">
                <button type="button" class="btn header-item waves-effect" id="page-header-user-dropdown"
                    data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <img class="rounded-circle header-profile-user"
                        src="{% if request.user.avatar %}{{ request.user.avatar.url }}{% else %}/path/to/default/avatar.png{% endif %}"
                        alt="Avatar">
                    <span class="d-none d-xl-inline-block ms-1" style="text-transform: uppercase;">Welcome {{request.user.name}}</span>
                    <i class="mdi mdi-chevron-down d-none d-xl-inline-block"></i>
                </button>
                <div class="dropdown-menu dropdown-menu-end">
                    <!-- item-->
                    <a class="dropdown-item d-block" href="{% url 'dashboard:update_profile' %}"><i
                        class="bx bx-user font-size-16 align-middle me-1"></i>
                    Update Profile</a>
                                        <a class="dropdown-item d-block" href="{% url 'dashboard:change_password' %}"><i
                            class="bx bx-wrench font-size-16 align-middle me-1"></i>
                        Change Password</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item text-danger" href="{% url 'dashboard:userlogout' %}"
                       ><i
                            class="bx bx-power-off font-size-16 align-middle me-1 text-danger"></i>
                        Logout </a>
                    <form id="logout-form" action="" method="" style="display: none;">
                        <input type="" name="" value="">                    </form>
                </div>
            </div>
            <div class="dropdown d-inline-block">
                <button type="button" class="btn header-item noti-icon right-bar-toggle waves-effect ">
                    <i class="bx bx-cog bx-spin"></i>
                </button>
            </div>
        </div>
    </div>
</header>
<!-- ========== Left Sidebar Start ========== -->
<div class="vertical-menu">

<div data-simplebar class="h-100">

    <!--- Sidemenu -->
    <div id="sidebar-menu">
        <!-- Left Menu Start -->
        <ul class="metismenu list-unstyled" id="side-menu">
            <li class="menu-title" key="t-menu">Dashboard</li>
            <li>
                <a href="{% url 'dashboard:index' %}" class="waves-effect">
                    <i class="bx bx-home-circle"></i>
                    <span>Dashboard</span>
                </a>
            </li>

            <li class="menu-title" key="t-menu">Bannars</li>

            <li>
                <a href="{% url  'dashboard:banner_list' %}" >
                    <i class="bx bx-receipt"></i>
                    <span>Slider Image</span>
                </a>
                
            </li>

            <li class="menu-title" key="t-menu">Category</li>

            <li>
                <a href="{% url 'dashboard:product_category' %}" class="">
                    <i class="fas fa-th-large"></i>
                    <span>Category</span>
                </a>
            </li>

            <li class="menu-title" key="t-menu">Products</li>
                <li>
                    <a href="{% url 'dashboard:product' %}" class="">
                        <i class="fas fa-box"></i>
                        <span>Products</span>
                    </a>
                </li>

                <li class="menu-title" key="t-menu">Orders</li>
                <li>
                    <a href="{% url 'dashboard:Order' %}" class="">
                        <i class="bi bi-cart-fill order-icon"></i>
                        <span>Orders</span>
                    </a>
                </li>

            <li class="menu-title" key="t-menu">Payment Method</li>
            <li>
                <a href="{% url 'dashboard:payment_list' %}" class="">
                    <i class="bi bi-credit-card-fill payment-method-icon"></i>
                    <span>Payment Method</span>
                </a>
            </li>

                <li class="menu-title" key="t-menu">Users</li>
                <li>
                    <a href="{% url 'dashboard:customer' %}" class="">
                        <i class='bx bx-user-voice'></i>
                        <span>Users</span>
                    </a>
                </li>

                <li class="menu-title" key="t-menu">Organization Settings</li>
                <li>
                    <a href="{% url 'dashboard:add_OrganizationSetting' %}" class="">
                        <i class="bx bx-receipt"></i>
                        <span>Organization Settings </span>
                    </a>
                    
                </li>

                <li>
                    <a href="{% url 'dashboard:add_TermsAndCondition' %}" class="">
                        <i class="fas fa-file-contract"></i>
                        <span>Terms and condition</span>
                    </a>
                </li>

                <li>
                    <a href="{% url 'dashboard:add_HelpCenter' %}" class="">
                        <i class="fas fa-life-ring"></i>
                        <span>Help center</span>
                    </a>
                </li>
            </ul>
    </div>
    <!-- Sidebar -->
</div>
</div>
    
{% block body%}


{% endblock %}


<footer class="footer">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-6">
                2024 © Rider 
            </div>
            <div class="col-sm-6">
                <div class="text-sm-end d-none d-sm-block">
                    Power by &amp;<a href="">Kitwosd</a>
                </div>
            </div>
        </div>
    </div>
</footer>
    </div>


    <!-- ============================================================== -->
    <!-- End Right content here -->
    <!-- ============================================================== -->
</div>
<!-- END wrapper -->



<!-- Right Sidebar -->
<!-- Right Sidebar -->
<div class="right-bar">
    <div data-simplebar class="h-100">
        <div class="rightbar-title d-flex align-items-center px-3 py-4">
            <h5 class="m-0 me-2">Settings</h5>
            <a href="javascript:void(0);" class="right-bar-toggle ms-auto">
                <i class="mdi mdi-close noti-icon"></i>
            </a>
        </div>
        <!-- Settings -->
        <hr class="mt-0" />
        <h6 class="text-center mb-0">Choose Layouts</h6>
        <div class="p-4">
            <div class="mb-2">
                <img src="{% static 'dashboard/build/images/layouts/layout-1.jpg'%}" class="img-thumbnail" alt="">
            </div>
            <div class="form-check form-switch mb-3">
                <input type="checkbox" class="form-check-input theme-choice" id="light-mode-switch" checked />
                <label class="form-check-label" for="light-mode-switch">Light Mode</label>
            </div>      
            <div class="mb-2">
                <img src="{% static 'dashboard/build/images/layouts/layout-2.jpg'%}" class="img-thumbnail" alt="">
            </div>
            <div class="form-check form-switch mb-3">
                <input type="checkbox" class="form-check-input theme-choice" id="dark-mode-switch"
                    data-bsStyle="{% static 'dashboard/build/css/bootstrap-dark.min.css'%}"
                    data-appStyle="{% static 'dashboard/build/css/app-dark.min.css'%}" />
                <label class="form-check-label" for="dark-mode-switch">Dark Mode</label>
            </div>
            <div class="mb-2">
                <img src="{% static 'dashboard/build/images/layouts/layout-3.jpg'%}" class="img-thumbnail" alt="">
            </div>
            {% comment %} <div class="form-check form-switch mb-5">
                <input type="checkbox" class="form-check-input theme-choice" id="rtl-mode-switch"
                    data-appStyle="{% static 'dashboard/build/css/app-rtl.min.css'%}" />
                <label class="form-check-label" for="rtl-mode-switch">RTL Mode</label>
            </div> {% endcomment %}
 
        </div>
    </div> <!-- end slim-scroll-menu-->
</div>
<!-- /Right-bar -->

<div class="rightbar-overlay"></div>
<!-- END Right Sidebar -->

<!-- JAVASCRIPT -->
<script src="{% static 'dashboard/build/libs/jquery/jquery.min.js'%}"></script>
<script src="{% static 'dashboard/build/libs/bootstrap/js/bootstrap.bundle.min.js'%}"></script>
<script src="{% static 'dashboard/build/libs/metismenu/metisMenu.min.js'%}"></script>
<script src="{% static 'dashboard/build/libs/simplebar/simplebar.min.js'%}"></script>
<script src="{% static 'dashboard/build/libs/node-waves/waves.min.js'%}"></script>
<script src="{% static 'dashboard/build/libs/toastr/toastr.js'%}"></script>;

                <!-- Plugin Js-->
        <script src="{% static 'dashboard/build/libs/apexcharts/apexcharts.min.js'%}"></script>
        <script src="{% static 'dashboard/build/js/pages/dashboard.init.js'%}"></script>
            <!-- App js -->
        <script src="{% static 'dashboard/build/js/app.min.js'%}"></script>
        <script>
                                                    function notifyCount() {
                    var load_count = $('.badge-pill').html();
                    var token = $("input[name='_token']").val();
                    $.ajax({
                        type: "get",
                        url: "/notification-count",
                        data: {
                            _token: token,
                        },
                        success: function(data) {
                            $('.badge-pill').html(data);
                            if (load_count < data) {
                                notificationShow();
                            }
                        },
                        error: function(data) {
                            console.log(data);
                        }
                    });
                }
                setInterval(function() {
                    notifyCount();
                }, 10000);
                                        function notificationShow() {
                    var token = $("input[name='_token']").val();
                    $.ajax({
                        type: "POST",
                        url: "/top-notification",
                        data: {
                            _token: token,
                        },
                        success: function(data) {
                            $('.notification-list-scroll').html(data.options);
                        },
                        error: function(data) {
                            console.log(data);
                        }
                    });
                }
                setInterval(function() {
                    notificationShow();
                }, 5000);
                    </script>

                    {% comment %} <style>
                        select {
                            word-wrap: normal;
                            width: 567px;
                            height: 40px;
                            display: flex;
                            border: 1px solid #ccc;
                        }
                        </style> {% endcomment %}
                        <style>
                            #imageContainer {
                                max-width: 100%;
                                max-height: 80%;
                                border: 1px solid #ccc;
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                overflow: hidden;
                            }

                            #imagePreview {
                                max-width: 100%;
                                max-height: 100%;
                            }
                        </style>



                        <script>
                            function showPreview(input) {
                                if (input.files && input.files[0]) {
                                    var reader = new FileReader();
                                    reader.onload = function(e) {
                                        document.getElementById('imagePreview').src = e.target.result;
                                    };
                                    reader.readAsDataURL(input.files[0]);
                                }
                            }

                            function showPreview1(input) {
                                if (input.files && input.files[0]) {
                                    var reader = new FileReader();
                                    reader.onload = function(e) {
                                        document.getElementById('imagePreview1').src = e.target.result;
                                    };
                                    reader.readAsDataURL(input.files[0]);
                                }
                            }
                        </script>

                        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

                        <script>
                            function validatePassword1() {
                                const password1 = document.getElementById('{{ user_form.password1.id_for_label }}').value;
                                const password2 = document.getElementById('{{ user_form.password2.id_for_label }}').value;
                        
                                // Check if passwords match
                                if (password1 !== password2) {
                                    document.getElementById('password-message1').innerText = 'Passwords do not match.';
                                    return;
                                }
                        
                                // Check if password contains both numbers and alphabetic characters until it reaches 8 characters
                                if (password1.length < 8 || (!/\d/.test(password1) || !/[a-zA-Z]/.test(password1))) {
                                    document.getElementById('password-message1').innerText = 'Password should contain both numbers and alphabetic characters and be at least 8 characters long.';
                                    return;
                                }
                        
                                // Check for similarity with other personal information
                                const personalInfo = ['username', 'email', 'name']; // Example personal information
                                for (const info of personalInfo) {
                                    if (password1.toLowerCase().includes(info.toLowerCase())) {
                                        document.getElementById('password-message1').innerText = 'Password can\'t be too similar to your other personal information.';
                                        return;
                                    }
                                }
                        
                                // Check for common passwords
                                const commonPasswords = ['password', '123456', 'qwerty']; // Example common passwords
                                if (commonPasswords.includes(password1.toLowerCase())) {
                                    document.getElementById('password-message1').innerText = 'Password can\'t be a commonly used password.';
                                    return;
                                }
                        
                                // Check if password is entirely numeric
                                if (/^\d+$/.test(password1)) {
                                    document.getElementById('password-message1').innerText = 'Password can\'t be entirely numeric.';
                                    return;
                                }
                        
                                document.getElementById('password-message1').innerText = '';
                            }
                        
                            
                            function togglePasswordVisibility(inputId) {
                                const input = document.getElementById(inputId);
                                const eyeIcon = document.getElementById('eye-icon-' + inputId.split('-').pop());
                        
                                if (input.type === "password") {
                                    input.type = "text";
                                    eyeIcon.classList.remove('bi-eye');
                                    eyeIcon.classList.add('bi-eye-slash');
                                } else {
                                    input.type = "password";
                                    eyeIcon.classList.remove('bi-eye-slash');
                                    eyeIcon.classList.add('bi-eye');
                                }
                            }
                        </script>
                        <script>
                            function validatePassword(input) {
                                const password = input.value;
                                const email = document.getElementById('{{ user_form.email.id_for_label }}').value;
                        
                                // Check if password contains both numbers and alphabetic characters
                                if (!/\d/.test(password) || !/[a-zA-Z]/.test(password) || password.length < 8) {
                                    document.getElementById('password-message').innerText = 'Password should contain both numbers and alphabetic characters, and be at least 8 characters long.';
                                    return;
                                }
                        
                                // Check for similarity with other personal information
                                const personalInfo = ['username', 'email', 'name']; // Example personal information
                                for (const info of personalInfo) {
                                    if (password.toLowerCase().includes(info.toLowerCase())) {
                                        document.getElementById('password-message').innerText = 'Password can\'t be too similar to your other personal information.';
                                        return;
                                    }
                                }
                        
                                // Check for common passwords
                                const commonPasswords = ['password', '123456', 'qwerty']; // Example common passwords
                                if (commonPasswords.includes(password.toLowerCase())) {
                                    document.getElementById('password-message').innerText = 'Password can\'t be a commonly used password.';
                                    return;
                                }
                        
                                // Check if password is similar to email
                                if (password.toLowerCase().includes(email.split('@')[0].toLowerCase()) || password.toLowerCase().includes(email.split('@')[1].toLowerCase())) {
                                    document.getElementById('password-message').innerText = 'Password can\'t be too similar to your email.';
                                    return;
                                }
                        
                                document.getElementById('password-message').innerText = '';
                            }
                        </script>
                        
                            
        </body>

</html>

